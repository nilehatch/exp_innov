<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Experimentation Toolkit</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Experimentation_Toolkit_files/libs/clipboard/clipboard.min.js"></script>
<script src="Experimentation_Toolkit_files/libs/quarto-html/quarto.js"></script>
<script src="Experimentation_Toolkit_files/libs/quarto-html/popper.min.js"></script>
<script src="Experimentation_Toolkit_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Experimentation_Toolkit_files/libs/quarto-html/anchor.min.js"></script>
<link href="Experimentation_Toolkit_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Experimentation_Toolkit_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Experimentation_Toolkit_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Experimentation_Toolkit_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Experimentation_Toolkit_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Experimentation Toolkit</h1>
<p class="subtitle lead">How to Document Learning and Build Knowledge Under Uncertainty</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="experimentation-manifesto" class="level2">
<h2 class="anchored" data-anchor-id="experimentation-manifesto">Experimentation Manifesto</h2>
<section id="why-we-document-every-experiment" class="level3">
<h3 class="anchored" data-anchor-id="why-we-document-every-experiment">Why We Document Every Experiment</h3>
<p>Innovation begins in uncertainty. We don’t pretend to know more than we do. We don’t guess blindly. We run experiments to reduce uncertainty, and we document those experiments to ensure clarity, progress, and scientific integrity.</p>
<p>Documentation is not bureaucracy. It is the act that transforms an experience into evidence, and a hunch into understanding.</p>
<p>Whether you’re observing a person in a setting, testing a technical part, or interviewing a customer, your work matters <em>only if it’s recorded in a way that you and others can understand later.</em></p>
<blockquote class="blockquote">
<p>We run experiments, and we document them.<br>
Because without documentation, there is no science.<br>
And without science, there is no progress under uncertainty.</p>
</blockquote>
</section>
<section id="our-purpose" class="level3">
<h3 class="anchored" data-anchor-id="our-purpose">Our Purpose</h3>
<p>Innovation is not a straight path. It winds through fog—through questions without answers, hypotheses not yet formed, problems not yet defined. And so, our work is not to <em>get it right on the first try</em>. Our work is to reduce uncertainty through structured learning. To turn the unknown into the knowable. And to turn guesses into grounded beliefs.</p>
<p>That is the purpose of the experiment.<br>
And that is why every experiment must be recorded.</p>
</section>
<section id="our-method" class="level3">
<h3 class="anchored" data-anchor-id="our-method">Our Method</h3>
<p>We follow the scientific method—not as a rigid formula, but as a discipline of thought:</p>
<ul>
<li>We identify the most urgent unknowns before rushing to act.</li>
<li>We choose methods that match the question, not the trend.</li>
<li>We collect evidence, not anecdotes.</li>
<li>We reflect on what we now know, how strongly we know it, and how we might still be wrong.</li>
<li>And we decide what to do next—not based on hope, but on learning.</li>
</ul>
<p>Some experiments will be exploratory: we collect data to discover patterns we could not have predicted.<br>
Others will be confirmatory: we test a clear hypothesis to see if it holds.<br>
Still others will be technical: we resolve design or performance tradeoffs with targeted trials.</p>
<p>All are legitimate.<br>
<strong>But none are legitimate if undocumented</strong>.</p>
</section>
<section id="our-standard" class="level3">
<h3 class="anchored" data-anchor-id="our-standard">Our Standard</h3>
<p>Every documented experiment—no matter how small—is a contribution:</p>
<ul>
<li>to your own understanding,</li>
<li>to your team’s shared knowledge,</li>
<li>and to the broader practice of evidence-based entrepreneurship.</li>
</ul>
<p>It may not look like a lab notebook.<br>
It may take the form of a field log, a survey memo, an interview summary, a data table, or a simple write-up. But it must capture the logic, the method, the findings, and the epistemic update.</p>
<p>In other words:</p>
<blockquote class="blockquote">
<p>You are not just building ventures.<br>
You are building knowledge.</p>
</blockquote>
</section>
<section id="the-habit-that-builds-everything-else" class="level3">
<h3 class="anchored" data-anchor-id="the-habit-that-builds-everything-else">The Habit That Builds Everything Else</h3>
<p>You will run dozens of experiments during this course. Most will fail in the traditional sense. That’s expected. What matters is that <strong>each one teaches you something you could not have known otherwise</strong>—and that you capture it, question it, and act on it.</p>
<p>If you make experiment documentation a habit now, you will:</p>
<ul>
<li>Think more clearly,</li>
<li>Design more intentionally,</li>
<li>Learn more rigorously,</li>
<li>And innovate with greater confidence.</li>
</ul>
<p>This is not extra work.<br>
This <em>is</em> the work.</p>
</section>
</section>
<section id="toolkit-overview" class="level2">
<h2 class="anchored" data-anchor-id="toolkit-overview">Toolkit Overview</h2>
<p>This toolkit equips you to document your experiments like a practicing scientist. You will use these tools to:</p>
<ul>
<li>Reduce uncertainty</li>
<li>Record your evidence and reasoning</li>
<li>Build cumulative knowledge</li>
<li>Guide next steps in your venture</li>
</ul>
<section id="toolkit-structure" class="level3">
<h3 class="anchored" data-anchor-id="toolkit-structure">Toolkit Structure</h3>
<p>It includes:</p>
<ul>
<li><strong>Manifesto and Guide</strong>: Philosophy of documentation</li>
<li><strong>Primary Experiment Template</strong>: Use this for major expeditionary innovation experiments (people access, pain, solution)</li>
<li><strong>Supporting Experiment Template</strong>: Use this for exploratory and supporting (intermediate) experiments (exploratory, confirmatory, and technical experiments)</li>
<li><strong>Experiment Log Tracker</strong>: Use this to index and track all experiments</li>
<li><strong>Toolkit README</strong>: This document</li>
</ul>
</section>
<section id="usage-instructions" class="level3">
<h3 class="anchored" data-anchor-id="usage-instructions">Usage Instructions</h3>
<ol type="1">
<li><p>Copy the appropriate template for each experiment or field note.</p></li>
<li><p>Keep all docs in your project or team folder.</p></li>
<li><p>For each experiment or field observation:</p>
<ul>
<li><p>Go to the relevant template (primary or supporting)</p></li>
<li><p>File → Make a copy</p></li>
<li><p>Rename it clearly</p>
<pre><code>  Recommended File Naming Convention
  - Exp [##] – [Short Title] – [Date]
  - Sup – [Date] – [Group or Activity]
  - (e.g., Exp 03 – Cafeteria Observations – 2025-09-12)</code></pre></li>
<li><p>Place your copy in your team’s working folder</p></li>
</ul></li>
<li><p>Update your Experiment Log Tracker with each new entry</p></li>
</ol>
</section>
<section id="best-practices" class="level3">
<h3 class="anchored" data-anchor-id="best-practices">Best Practices</h3>
<ul>
<li>Document immediately after you gather data</li>
<li>Be honest about surprises, gaps, and mistakes</li>
<li>Write to your <em>future self</em> and your teammates</li>
<li>Link any external data, recordings, or images in your documents</li>
</ul>
</section>
<section id="what-youre-building" class="level3">
<h3 class="anchored" data-anchor-id="what-youre-building">What You’re Building</h3>
<p>By the end of your expedition, you will have a <strong>recorded trail of discovery</strong>, a logic of decisions, and an epistemic foundation for whatever you choose to launch.</p>
<p>This is not busywork. This is the work.</p>
</section>
</section>
<section id="primary-experiment-template" class="level2">
<h2 class="anchored" data-anchor-id="primary-experiment-template">Primary Experiment Template</h2>
<p>This template is used to document the primary experiments of expeditionary innovation. Each primary experiment is one diamond in the triple diamond framework. The primary experiments are - People access - Pain validation - Solution validation and testing with prototypes</p>
<blockquote class="blockquote">
<p>Every <strong>Supporting Experiment</strong> should be linked in your <strong>Primary Experiment</strong> document and tracked in your <strong>Experiment Log Tracker</strong>.<br>
<br>
- <strong>Primary Experiment Template</strong> documents your full inquiry into expeditionary innovation unknowns. It will often include multiple forms of data collection and synthesis over time.<br>
- <strong>Supporting Experiment Template</strong> documents each individual exploratory, confirmatory, or technical experiment. These are the building blocks that generate evidence, insight, or surprise.</p>
</blockquote>
<section id="general-info" class="level3">
<h3 class="anchored" data-anchor-id="general-info">General Info</h3>
<ul>
<li><strong>Title</strong>: [Descriptive Name]<br>
</li>
<li><strong>Date(s)</strong>:<br>
</li>
<li><strong>Team Members Involved</strong>:</li>
</ul>
</section>
<section id="clarify-the-unknown" class="level3">
<h3 class="anchored" data-anchor-id="clarify-the-unknown">1. Clarify the Unknown</h3>
<ul>
<li><strong>Most Urgent Unknown</strong>: What uncertainty are you trying to reduce?</li>
<li><strong>Other Urgent Unknowns</strong>: Why is this one most pressing?</li>
</ul>
</section>
<section id="modalities-and-data-sources" class="level3">
<h3 class="anchored" data-anchor-id="modalities-and-data-sources">2. Modalities and Data Sources</h3>
<ul>
<li><strong>Modalities Used</strong> (e.g., Interviews, Observations, Social Media, etc.):</li>
<li><strong>Supporting Experiment Logs</strong>: (Link to supporting experiment docs)</li>
<li><strong>Why this mix?</strong> What makes this combination appropriate for the unknown?</li>
</ul>
</section>
<section id="synthesis-of-design-and-implementation" class="level3">
<h3 class="anchored" data-anchor-id="synthesis-of-design-and-implementation">3. Synthesis of Design and Implementation</h3>
<ul>
<li>What kinds of people or data sources were targeted?</li>
<li>Sampling challenges or bias concerns?</li>
<li>Key notes across different collection types?</li>
</ul>
</section>
<section id="summary-of-results-and-patterns" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-results-and-patterns">4. Summary of Results and Patterns</h3>
<ul>
<li>Summarize major insights, themes, or findings</li>
<li>Were there convergences or contradictions?</li>
<li>Refer to <strong>supporting experiment docs</strong> for detail</li>
</ul>
</section>
<section id="knowledge-updating" class="level3">
<h3 class="anchored" data-anchor-id="knowledge-updating">5. Knowledge Updating</h3>
<ul>
<li>What do you now believe more strongly?</li>
<li>What surprised you?</li>
<li>How confident are you? Why?</li>
<li>Did this lead to a new hypothesis, persona, need statement, or opportunity?</li>
</ul>
</section>
<section id="next-steps" class="level3">
<h3 class="anchored" data-anchor-id="next-steps">6. Next Steps</h3>
<ul>
<li>What follow-up experiment or decision does this point to?</li>
</ul>
</section>
</section>
<section id="supporting-experiment-template" class="level2">
<h2 class="anchored" data-anchor-id="supporting-experiment-template">Supporting Experiment Template</h2>
<p>This template is used to document the many supporting experiments that comprise a single primary experiment. Each supporting experiment is drawn from a slice from the divergent stage of one of the triple diamonds. Some common supporting experiments include</p>
<ul>
<li><strong>Exploratory Experiments</strong>: Used to uncover patterns, insights, or hypotheses. Often open-ended and inductive. For example, observation, conversation, secondary research, ideation</li>
<li><strong>Confirmatory Experiments</strong>: Used to test a clear hypothesis. Controlled, deductive, and evidence-seeking. For example, people access test, customer pain validation, solution validation</li>
<li><strong>Technical Experiments</strong>: Used to compare, validate, or refine solution design and implementation decisions. Focused on how things work, not just what people think or do. For example, A/B tests, micro-validations, component trials, usability checks, feature verification</li>
</ul>
<section id="general-info-1" class="level3">
<h3 class="anchored" data-anchor-id="general-info-1">General Info</h3>
<ul>
<li><strong>Title / Observation Type</strong>:</li>
<li><strong>Date</strong>:</li>
<li><strong>Location / Setting</strong>:</li>
<li><strong>Team Member(s)</strong>:</li>
<li><strong>Modality</strong> (e.g., Interview, Observation, etc.):</li>
<li><strong>Linked Primary Experiment</strong>:</li>
</ul>
</section>
<section id="clarify-the-unknown-1" class="level3">
<h3 class="anchored" data-anchor-id="clarify-the-unknown-1">1. Clarify the Unknown</h3>
<ul>
<li><strong>Most Urgent Unknown</strong>: What uncertainty are you trying to reduce?</li>
<li><strong>Other Urgent Unknowns</strong>: Why is this one most pressing?</li>
</ul>
</section>
<section id="experiment-type" class="level3">
<h3 class="anchored" data-anchor-id="experiment-type">2. Experiment Type</h3>
<ul class="task-list">
<li><label><input type="checkbox">Exploratory Experiment</label></li>
<li><label><input type="checkbox">Confirmatory Experiment</label></li>
<li><label><input type="checkbox">Technical Experiment</label></li>
</ul>
</section>
<section id="modality-and-fit" class="level3">
<h3 class="anchored" data-anchor-id="modality-and-fit">3. Modality and Fit</h3>
<ul>
<li><strong>Modality Chosen</strong> (e.g., Interview, Observation, Survey, etc.):</li>
<li><strong>Why it fits</strong> this unknown:</li>
</ul>
</section>
<section id="design" class="level3">
<h3 class="anchored" data-anchor-id="design">4. Design</h3>
<ul>
<li><strong>Source of Evidence</strong>:</li>
<li><strong>Collection Mechanism</strong> (Interview guide, survey, etc.):</li>
<li><strong>Sampling Strategy</strong>:</li>
<li><strong>Sample Size Goal</strong>:</li>
</ul>
</section>
<section id="execution-notes" class="level3">
<h3 class="anchored" data-anchor-id="execution-notes">5. Execution Notes</h3>
<ul>
<li>What did you actually do?</li>
<li>Who did you reach?</li>
<li>Deviations from the plan? Surprises?</li>
<li>Sampling biases?</li>
</ul>
</section>
<section id="results-and-data-summary" class="level3">
<h3 class="anchored" data-anchor-id="results-and-data-summary">6. Results and Data Summary</h3>
<ul>
<li>Link raw data, quotes, tables, etc.</li>
<li>Highlight key findings:</li>
</ul>
</section>
<section id="knowledge-updating-1" class="level3">
<h3 class="anchored" data-anchor-id="knowledge-updating-1">7. Knowledge Updating</h3>
<ul>
<li>What do you now know?</li>
<li>How confident are you? Why?</li>
<li>What assumptions did you update or abandon?</li>
</ul>
</section>
<section id="next-steps-1" class="level3">
<h3 class="anchored" data-anchor-id="next-steps-1">8. Next Steps</h3>
<ul>
<li>What are you doing next based on this experiment?</li>
</ul>
</section>
</section>
<section id="experiment-log-tracker" class="level2">
<h2 class="anchored" data-anchor-id="experiment-log-tracker">Experiment Log Tracker</h2>
<p>This is a spreadsheet to track all primary and secondary experiments. Columns in the spreadsheet would include</p>
<ul>
<li><p>Experiment #</p></li>
<li><p>Date(s)<br>
</p></li>
<li><p>Experiment title</p></li>
<li><p>Type: (exploratory experiment, confirmatory experiment, technical experiment)</p></li>
<li><p>Modality</p>
<ul>
<li>observation</li>
<li>conversation</li>
<li>role play</li>
<li>secondary research</li>
<li>A/B testing</li>
<li>feature verification</li>
<li>many others</li>
<li></li>
</ul></li>
<li><p>Urgent Unknown<br>
</p></li>
<li><p>Link to Google doc<br>
</p></li>
<li><p>Summary of results<br>
</p></li>
<li><p>Confidence score</p>
<p>How confident are you in your conclusions. Convenience sampling, small samples, ineffective questions, and myriad other experiment execution limitations would lower your confidence.</p></li>
<li><p>Next action</p></li>
</ul>
</section>
<section id="usage-instructions-1" class="level2">
<h2 class="anchored" data-anchor-id="usage-instructions-1">Usage Instructions</h2>
<p>This toolkit equips you to document your experiments like a practicing scientist. You will use these tools to:</p>
<ul>
<li>Reduce uncertainty</li>
<li>Record your evidence and reasoning</li>
<li>Build cumulative knowledge</li>
<li>Guide next steps in your venture</li>
</ul>
</section>
<section id="toolkit-structure-1" class="level2">
<h2 class="anchored" data-anchor-id="toolkit-structure-1">Toolkit Structure</h2>
<p>It includes:</p>
<ul>
<li><strong>Manifesto and Guide</strong>: Philosophy of documentation</li>
<li><strong>Primary Experiment Template</strong>: Use this for major expeditionary innovation experiments (people access, pain, solution)</li>
<li><strong>Supporting Experiment Template</strong>: Use this for exploratory and supporting (intermediate) experiments (exploratory, confirmatory, and technical experiments)</li>
<li><strong>Experiment Log Tracker</strong>: Use this to index and track all experiments</li>
<li><strong>Toolkit README</strong>: This document</li>
</ul>
</section>
<section id="usage-instructions-2" class="level2">
<h2 class="anchored" data-anchor-id="usage-instructions-2">Usage Instructions</h2>
<ol type="1">
<li><p>Copy the appropriate template for each experiment or field note.</p></li>
<li><p>Keep all docs in your project or team folder.</p></li>
<li><p>For each experiment or field observation:</p>
<ul>
<li><p>Go to the relevant template (primary or supporting)</p></li>
<li><p>File → Make a copy</p></li>
<li><p>Rename it clearly</p>
<pre><code>  Recommended File Naming Convention
  - Exp [##] – [Short Title] – [Date]
  - Sup – [Date] – [Group or Activity]
  - (e.g., Exp 03 – Cafeteria Observations – 2025-09-12)</code></pre></li>
<li><p>Place your copy in your team’s working folder</p></li>
</ul></li>
<li><p>Update your Experiment Log Tracker with each new entry</p></li>
</ol>
</section>
<section id="best-practices-1" class="level2">
<h2 class="anchored" data-anchor-id="best-practices-1">Best Practices</h2>
<ul>
<li>Document immediately after you gather data</li>
<li>Be honest about surprises, gaps, and mistakes</li>
<li>Write to your <em>future self</em> and your teammates</li>
<li>Link any external data, recordings, or images in your documents</li>
</ul>
</section>
<section id="what-youre-building-1" class="level2">
<h2 class="anchored" data-anchor-id="what-youre-building-1">What You’re Building</h2>
<p>By the end of your expedition, you will have a <strong>recorded trail of discovery</strong>, a logic of decisions, and an epistemic foundation for whatever you choose to launch.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>